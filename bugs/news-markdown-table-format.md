# 新闻资讯显示格式优化

## 问题描述

get-news action返回的新闻资讯使用了列表形式显示，信息密度不够高，且在窄屏幕设备上显示效果不佳。

## 解决方案

将新闻资讯的显示格式从列表形式改为Markdown表格形式，提高信息密度和可读性。

## 实施细节

### 1. 格式转换
- 将原有的列表形式改为表格形式
- 使用表格列来组织序号、标题、日期、类型、作者、标签等信息
- 保持链接功能，标题仍可点击跳转到原文

### 2. 信息优化
- 限制标题长度以保持表格整洁
- 添加转义处理避免Markdown特殊字符冲突
- 提供默认值处理缺失信息

### 3. 视觉设计
- 使用表格头部明确信息分类
- 保持原有的emoji图标增强可读性
- 使用合适的列宽平衡信息展示和显示效果

## 代码变更

**文件**: `src/actions/get-news.ts`

### 主要变更点：
1. 修改`formatNewsOutput`函数实现Markdown表格格式
2. 添加表格头部和分隔线
3. 优化信息展示结构
4. 添加长度限制和转义处理

### 样式优势：
1. **信息密度高**: 表格形式能展示更多信息
2. **结构清晰**: 表格列明确信息分类
3. **易于比较**: 同类信息垂直对齐便于比较
4. **响应式好**: 表格在各种屏幕尺寸下都能良好显示

## 测试验证

- [x] 验证表格格式正确生成
- [x] 确认链接功能正常工作
- [x] 测试各种信息长度下的显示效果
- [x] 验证缺失信息的默认值处理
- [x] 确保转义处理正确

## 相关文件

- `src/actions/get-news.ts` - 主要修改文件

## 方案优势

1. **信息密度高**: 同等空间内展示更多信息
2. **结构化展示**: 表格形式更结构化，易于阅读
3. **保持功能**: 保留所有原有功能，包括链接跳转
4. **兼容性好**: Markdown表格在各种环境下都能正确渲染

## 修复日期

2025-01-25

## 修复人

Claude Code